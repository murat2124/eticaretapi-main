<div class="stock-movements-container">
  <h1>DeÄŸiÅŸiklik YapÄ±lan Stok Hareketleri</h1>

  <!-- Stok hareket tablosu -->
  <table *ngIf="stockMovements.length > 0; else noDataTemplate">
    <thead>
      <tr>
        <th>Id</th>
        <th>ÃœrÃ¼n ID</th>
        <th>Miktar</th>
        <th>TÃ¼r</th>
        <th>Tarih</th>
        <th>Ä°ÅŸlemler</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let stockMovement of stockMovements">
        <td>{{ stockMovement.id }}</td>
        <td>{{ stockMovement.productId }}</td>
        <td>{{ stockMovement.quantity }}</td>
        <td>{{ stockMovement.type }}</td>
        <td>{{ stockMovement.date | date: 'dd/MM/yyyy' }}</td>
        <td></td>
      </tr>
    </tbody>
  </table>

  <!-- Veri yoksa -->
  <ng-template #noDataTemplate>
    <p>HenÃ¼z stok hareketi bulunmamaktadÄ±r.</p>
  </ng-template>

  <!-- Stok GÃ¼ncelleme Formu -->
  <!-- Stok GÃ¼ncelleme Formu -->
<div *ngIf="selectedStockMovement.ProductId !== null" id="stokForm" class="stok-form">
  <h2 class="stok-baslik">
    <i class="fa fa-edit"></i> Stok Hareketini DÃ¼zenle
  </h2>

  <p class="urun-bilgisi" *ngIf="selectedProduct">
    ðŸ›’ <strong>{{ selectedProduct.name }}</strong>
    <span style="color: #888">
      (ID: {{ selectedProduct.id }}) |
      Ã–nceki Stok: {{ oldStockQuantity }}
    </span>
  </p>
/ <!-- â†â†â† gÃ¼ncleleme -->

  <form (ngSubmit)="updateStockMovement()" class="form-alani">
  <div class="form-row">
    <label>Ä°ÅŸlem:</label>
    <button type="button" (click)="setMovementType('giriÅŸ')">âž• Ekle</button>
    <button type="button" (click)="setMovementType('Ã§Ä±kÄ±ÅŸ')">âž– Azalt</button>
  </div>

  <div class="form-row">
    <label>Miktar:</label>
    <input
  type="number"
  [(ngModel)]="selectedStockMovement.Quantity"
  name="quantity"
  readonly
    />
  </div>

  <div class="form-row">
    <label>Tarih:</label>
    <input
      type="text"
      [(ngModel)]="selectedStockMovement.Date"
      name="date"
      readonly
    />
  </div>

  <button type="submit" class="btn-guncelle">GÃ¼ncelle</button>
</form>

</div>

  <!-- ÃœrÃ¼n Listesi -->
  <h1>ÃœRÃœNLER</h1>
  <table class="urun-tablosu">
    <thead>
      <tr>
        <th>ID</th>
        <th>Ad</th>
        <th>AÃ§Ä±klama</th>
        <th>Fiyat</th>
        <th>Stok</th>
        <th>OluÅŸturulma Tarihi</th>
        <th>Kategori ID</th>
        <th>Ä°ÅŸlem</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.id }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.description }}</td>
        <td>{{ product.price | currency }}</td>
        <td>{{ product.stock }}</td>
        <td>{{ product.createdDate | date: 'dd/MM/yyyy' }}</td>
        <td>{{ product.categoryId }}</td>
        <td>
          <button class="btn-duzenle" (click)="selectProductForStockUpdate(product)">
            Stok MiktarÄ±nÄ± DÃ¼zenle
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="stock-movements-container">
  <h1>DeyiÅŸiklik YapÄ±lan Stok Hareketleri</h1>

  <!-- Admin ÅŸifresi deÄŸiÅŸtirme formu -->
  <div >
    
    
  </div>

  <!-- Stok hareketleri tablosu -->
  <table *ngIf="stockMovements && stockMovements.length > 0; else noDataTemplate">
    <thead>
      <tr>
        <th>Id</th>
        <th>ÃœrÃ¼n ID</th>
        <th>Miktar</th>
        <th>TÃ¼r</th>
        <th>Tarih</th>
        <th>Ä°ÅŸlemler</th>
      </tr>
    </thead>
    <tbody *ngIf="stockMovements && stockMovements.length > 0; ">
      <tr *ngFor="let stockMovement of stockMovements" >
        <td>{{stockMovement.id}}</td>
        <td>{{ stockMovement.productId }}</td>
        <td>{{ stockMovement.quantity }}</td>
        <td>{{ stockMovement.type }}</td>
        <td>{{ stockMovement.date | date: 'dd/MM/yyyy' }}</td>
        <td>
          <button (click)="deleteStockMovoment(stockMovement.id)" >Stok GÃ¼ncelleme Bilgilerini Sil</button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #noDataTemplate>
    <p>HenÃ¼z stok hareketi bulunmamaktadÄ±r.</p>
  </ng-template>
</div>

</div>